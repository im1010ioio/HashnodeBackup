---
title: "#09 åŸç”Ÿçš„ Css è®Šæ•¸"
datePublished: Sun Sep 24 2023 16:59:58 GMT+0000 (Coordinated Universal Time)
cuid: clmxpgfzx000209mq1mbr81e8
slug: css-variables
cover: https://cdn.hashnode.com/res/hashnode/image/upload/v1694509045484/0ea23a25-4c64-42f5-802c-2be3742ef061.png
ogImage: https://cdn.hashnode.com/res/hashnode/image/upload/v1695574787158/afa21f64-d378-45f0-aa2c-7fb00b2fe2cb.png
tags: css3, css, css-variables

---

> #### â†“ ä»Šæ—¥å­¸ç¿’é‡é» â†“
> 
> * äº†è§£å¦‚ä½•è¨­å®š CSS è®Šæ•¸ï¼Œä¸¦ä¸”ä½¿ç”¨å®ƒå€‘
>     

CSS è®Šæ•¸ï¼ˆCSS Variablesï¼‰å¯ä»¥è®“äººåœ¨æ•´å€‹ç¶²ç«™çš„æ¨£å¼ä¸­è¼•é¬†é‡è¤‡ä½¿ç”¨ç›¸åŒçš„å€¼ï¼Œæ›´è¼•é¬†åœ°èª¿æ•´ç¶²ç«™çš„å¤–è§€ï¼ŒåŒæ™‚ä¿æŒä¸€è‡´æ€§ã€‚ä»¥å¾€ CSS è¦ä½¿ç”¨è®Šæ•¸å¿…é ˆé€é Sass (SCSS) æˆ– Less ç­‰é è™•ç†å™¨æ‰èƒ½å¯¦ç¾ï¼Œä½†ç¾åœ¨æœ‰äº†åŸç”Ÿçš„ CSS è®Šæ•¸ï¼Œå·²é–‹å§‹å»£æ³›é‹ç”¨åœ¨ç¶²é ä¸Šäº†ã€‚

ä»Šå¤©ï¼Œå°±è®“æˆ‘å€‘ä¾†äº†è§£å¦‚ä½•ä½¿ç”¨ CSS è®Šæ•¸å§ï¼

---

## **åŸºç¤çŸ¥è­˜**

### **å®šç¾©è®Šæ•¸**

åœ¨CSSä¸­ï¼Œå¯ä»¥ä½¿ç”¨`--`å‰ç¶´ä¾†å®šç¾©è®Šæ•¸ã€‚è€Œä¸Šä¸€ç¯‡æœ‰æé `:root` é¸æ“‡å™¨ï¼ŒæŒ‡çš„æ˜¯ HTML çš„å…¨åŸŸï¼Œå¦‚æœæˆ‘å€‘å¸Œæœ›é€™å€‹è®Šæ•¸ HTML å…¨éƒ¨ç¯„åœéƒ½èƒ½ä½¿ç”¨ï¼Œå°±è¦å°‡è®Šæ•¸è¨­å®šåœ¨é€™è£¡ã€‚ä¾‹å¦‚ï¼š

```css
:root{
    --color-default: #666;
}
```

åœ¨é€™å€‹ä¾‹å­ä¸­ï¼Œæˆ‘å€‘å®šç¾©äº†ä¸€å€‹åç‚º `--color-default` çš„è®Šæ•¸ï¼Œä¸¦è³¦å€¼ç‚º`#666`ï¼ˆç°è‰²ï¼‰ã€‚

### **ä½¿ç”¨è®Šæ•¸ var(--...)**

ä¸€æ—¦åœ¨ `:root` å®šç¾©äº†è®Šæ•¸ï¼Œå°±å¯ä»¥åœ¨æ•´å€‹ CSS ä¸­ä½¿ç”¨å®ƒå€‘ã€‚ä½¿ç”¨è®Šæ•¸æ™‚æ˜¯å°‡å®šç¾©å¥½çš„è®Šæ•¸ç”¨ `var()` åŒ…èµ·ä¾†ï¼Œä¾‹å¦‚ï¼š

```css
:root{
    --color-default: #666;
}
body{
    color: var(--color-default);
}
```

é€™æ¨£ï¼Œ`body` å…ƒç´ çš„æ–‡å­—é¡è‰²å°‡æœƒæ˜¯ç°è‰²ï¼Œå› ç‚ºæˆ‘å€‘ä½¿ç”¨äº†æˆ‘å€‘ä¹‹å‰å®šç¾©çš„è®Šæ•¸ã€‚

### è®Šæ•¸çš„ä½œç”¨ç¯„åœï¼šå…¨åŸŸè®Šæ•¸ vs. å€åŸŸè®Šæ•¸

å¦‚æœè®Šæ•¸ä¸æ˜¯å®šç¾©åœ¨ `:root` å…¨åŸŸä¸­ï¼Œè€Œæ˜¯å®šç¾©åœ¨æŸå€‹é¸æ“‡å™¨å…§ï¼Œå°±æ˜¯å€åŸŸè®Šæ•¸ã€‚å€åŸŸè®Šæ•¸åªæœ‰é‚£å€‹é¸æ“‡å™¨å…§ï¼ˆåŒ…æ¶µå­å±¤ï¼‰å¯ä»¥ä½¿ç”¨ï¼Œä»¥ä¸‹æ˜¯å€åŸŸè®Šæ•¸çš„ä¾‹å­ï¼š

```css
header {
    --color-header: #888;
    /* è®€å–å¾—åˆ°é¡è‰² */
    color: var(--color-header);
}
header p {
    /* è®€å–å¾—åˆ°é¡è‰² */
    color: var(--color-header);
}
footer {
    /* è®€å–ä¸åˆ°é¡è‰² */
    color: var(--color-header);
}
```

### è®Šæ•¸å¥—ç”¨è®Šæ•¸

èˆ‡å…¶ä»–ç¨‹å¼ä¸€æ¨£ï¼Œè®Šæ•¸å¯ä»¥å†å¥—ç”¨è®Šæ•¸ã€‚ä»¥ä»¥ä¸‹ä¾‹å­ä¾†èªªï¼Œæˆ‘å€‘å…ˆå®šç¾©äº† 1 - 9 ç´šçš„ç°è‰²è®Šæ•¸ï¼Œç„¶å¾Œå†å°‡æ–‡å­—é è¨­é¡è‰²è®Šæ•¸æŒ‡å®šç‚ºå…¶ä¸­çš„ç¬¬ 7 ç´šè®Šæ•¸ï¼š

```css
:root{
    --gray-100: #f9f9fd;
    --gray-200: #e8edf4;
    --gray-300: #DBE2E7;
    --gray-400: #CED7E0;
    --gray-500: #A9B3BD;
    --gray-600: #677889;
    --gray-700: #495562;
    --gray-800: #2D4155;
    --gray-900: #1A2632;

    /* è®Šæ•¸å¥—ç”¨è®Šæ•¸ */
    --color-default: var(--gray-700);
}
```

---

## **é€²éšç”¨æ³•**

### **æ–¼å­å±¤å…§å¯ç›´æ¥è¦†è“‹è®Šæ•¸**

è®Šæ•¸èƒ½å¤ åœ¨å­å±¤å…§å†å»è¦†è“‹å®ƒçš„æ•¸å€¼ï¼Œä¸ç”¨å†è¨­å®šä¸€æ¬¡å±¬æ€§æ•¸å€¼ã€‚é€™å¾ˆæ–¹ä¾¿ï¼Œä½¿ç”¨æƒ…å¢ƒå¦‚ï¼šå…ˆåœ¨çˆ¶å±¤è¨­å®šé è¨­é¡è‰²ï¼Œä½†æ˜¯åœ¨è¦æŸå€‹å­å±¤å…§çš„é¡è‰²ä¸ä¸€æ¨£ï¼Œé€™æ™‚å€™ç›´æ¥æ”¹è®Šæ•¸å°±å¥½äº†ã€‚

ä¸éè¦†è“‹åªèƒ½è¦†è“‹å¥—ç”¨çš„è®Šæ•¸ï¼Œè®Šæ•¸å¥—ç”¨çš„è®Šæ•¸å°±æ²’æœ‰è¾¦æ³•è¦†è“‹ï¼Œæœ‰é»ç¹å£ï¼Œè®“æˆ‘å€‘çœ‹çœ‹ä¾‹å­å°±èƒ½æ˜ç™½äº†ï¼š

```css
:root{
    --gray-600: #666;
    --color-default: var(--gray-600);
}
body{
    color: var(--color-default);
}
body article{
    /* å¯ä»¥ç›´æ¥æ”¹è®Šè®Šæ•¸çš„æ•¸å€¼ï¼Œä¸éœ€è¦å†å¯«ä¸€æ¬¡ color:... */
    --color-default: #333;
    
    /* é€™ä¸€è¡Œç„¡æ•ˆï¼Œæ²’æœ‰è¾¦æ³•è¦†è“‹è®Šæ•¸å¥—ç”¨çš„è®Šæ•¸ */
    --gray-600: #555;
}
```

### **è®Šæ•¸çš„é è¨­å€¼**

å¯ä»¥è¨­å®šè®Šæ•¸çš„é è¨­å€¼ï¼Œä»¥é˜²æ­¢æ²’æœ‰è®Šæ•¸çš„æƒ…æ³ã€‚  
ç›®å‰æˆ‘æƒ³åˆ°çš„ä½¿ç”¨æƒ…å¢ƒï¼Œå¯èƒ½æ˜¯åœ¨è¼‰å…¥å¥—ä»¶å¯«çš„è®Šæ•¸ï¼Œè¬ä¸€å¥—ä»¶æ›´æ–°åˆªé™¤äº†æŸäº›è®Šæ•¸ï¼Œå¯ä»¥æœ‰æ›¿ä»£æ–¹æ¡ˆã€‚ï¼ˆä¾‹å¦‚ï¼Œé»‘æš—æ¨¡å¼æ™‚ï¼Œé¿å…æ²’æœ‰è®Šæ•¸ï¼Œè®Šæˆé»‘å­—åœ¨é»‘åº•ä¸Šä¹‹é¡çš„ï¼‰

```css
:root {
    /* --bg-default: #cae3ff; */
}
.header {
    /* å¦‚æœè®Šæ•¸æ²’æœ‰è¢«å®šç¾©ï¼Œå°‡ä½¿ç”¨ç™½è‰²ä½œç‚ºé è¨­å€¼ */
    background-color: var(--bg-default, white); 
}
```

### **è®Šæ•¸çš„æ‡‰ç”¨èˆ‡è¨ˆç®—**

æœ‰äº† CSS è®Šæ•¸ï¼Œåœ¨æ•¸å€¼ä¸Šé¢å°±å¤šäº†å¾ˆå¤šå¯èƒ½æ€§ã€‚ç¹¼çºŒä»¥é¡è‰²ç‚ºä¾‹ï¼š

```css
:root{
    --color-primary-rgb: 46, 65, 140;
}
p{
    color: rgb(var(--color-primary-rgb));
}
p.text-sub{
    /* è¨­å®šæ¬¡è¦æ–‡å­—é¡è‰²è¼ƒæ·¡ï¼Œé€æ˜åº¦ 50% */
    color: rgba(var(--color-primary-rgb), .5)
}
```

æ›´é€²ä¸€æ­¥ç”¨ CSS æ•¸å­¸å‡½å¼ `calc`ï¼Œæ‹¿é¡è‰²ä¾†é‹ç®—ï¼š

```css
:root{
    --color-r: 46;
    --color-g: 65;
    --color-b: 140;
    /* è®Šæ•¸å¯ä»¥å†æŒ‡å®šè®Šæ•¸ */
    --color-primary-rgb: var(--color-r), var(--color-g), var(--color-b);
}

p.text-sub{
    color: rgba(var(--color-primary-rgb), .8);
}

p.text-change-rgb{
    color: rgba(
		calc(var(--color-r) * 3),
		calc(var(--color-g) / 2),
		calc(var(--color-g) + 100), .8);
}
```

### **æ­é…** `@property` ä½¿ç”¨ï¼ˆCSS Houdiniï¼‰

> è¨»ï¼šFirefox æš«ä¸æ”¯æ´

CSS è®Šæ•¸æ­é… CSS æ–°æ¨å‡ºçš„å±¬æ€§ `@property` ï¼Œå¯ä»¥åšæ›´é€²éšã€éå»åšä¸åˆ°çš„å‹•ç•«ï¼Œä¾‹å¦‚ï¼šæ¼¸å±¤è‰²æ¼¸è®Šã€åŒå¿ƒåœ“æ¼¸è®Šç­‰ç­‰ï¼Œä¹‹å¾Œæˆ‘å€‘æœƒå†è©³ç´°è§£èªªã€‚

> å¦‚æœä½ æƒ³ææ—©äº†è§£ï¼Œå¯ä»¥åƒè€ƒä»¥ä¸‹å¥½æ–‡ï¼š  
> [CSS @propertyï¼Œè®“ä¸å¯èƒ½è®Šå¯èƒ½ | ITäºº (](https://iter01.com/594993.html)[iter01.com](http://iter01.com)[)](https://iter01.com/594993.html)

---

è®Šæ•¸é™¤äº†æ‡‰ç”¨åœ¨é¡è‰²å¤–ï¼Œç•¶ç„¶ä¹Ÿå¯ä»¥æ‡‰ç”¨åœ¨å¯¬åº¦ã€marginã€paddingã€transform ç­‰ç­‰å„ç¨®åœ°æ–¹ã€‚æ¥ä¸‹ä¾†ï¼Œæ€éº¼é‹ç”¨å°±äº¤çµ¦å„ä½æ¢ç´¢å›‰ï¼

å¦‚æœä½ æ˜¯åˆå­¸è€…ä»¥ä¸Šè¨±å¤š CSS èˆ‡åè©é‚„ä¸çŸ¥é“ï¼Œæ²’æœ‰é—œä¿‚ï¼Œä½ åªéœ€è¦äº†è§£è®Šæ•¸å¦‚ä½•é‹ç”¨å°±å¥½ï¼Œé—œæ–¼é‚„æ²’æœ‰è§£èªªéçš„éƒ¨åˆ†ï¼Œæˆ‘å€‘å¾ŒçºŒæœƒå†ä¸€æ­¥æ­¥è¬›è§£ã€‚

> å»¶ä¼¸é–±è®€ï¼š[æ·±å…¥ç†è§£ CSS è®Šæ•¸ ( CSS Variables )](https://www.oxxostudio.tw/articles/202011/css-variables.html)

---

#### â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“â†“

å¦‚æœä½ å–œæ­¡æˆ‘çš„å‰µä½œï¼Œé‚„æƒ³çœ‹çœ‹å…¶ä»–æœ‰è¶£çš„åˆ†äº«èˆ‡æ—¥å¸¸ï¼Œ  
å¯ä»¥è¿½è¹¤æˆ‘çš„ IG [@im1010ioio](https://www.instagram.com/im1010ioio/)ï¼Œæˆ–è€…æ˜¯[ğŸ§‹é€æ¯çå¥¶é¼“å‹µæˆ‘](https://im1010ioio.bobaboba.me/)ï¼Œè¬è¬ä½ ğŸ¥°ã€‚

![Eva Chen é€æ¯çå¥¶é¼“å‹µæˆ‘](https://cdn.hashnode.com/res/hashnode/image/upload/v1682564435616/c15640fc-6cee-4c33-a898-9cd6820f165a.png align="center")